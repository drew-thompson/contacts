<mat-toolbar>
  <button (click)="toggleSidenav()" mat-icon-button>
    <mat-icon>menu{{ isViewingListing ? '_open' : '' }}</mat-icon>
  </button>
</mat-toolbar>

<div class="container-fluid">
  <mat-sidenav-container class="row">
    <mat-sidenav [opened]="isViewingListing" mode="side" class="col-12 col-sm-4">
      <a routerLink="/contacts">Contacts Home</a>
      <p>Is {{ !isEditing ? 'Not ' : '' }} Editing</p>
      <button (click)="toggleEditing()" mat-button type="button">Toggle Editing</button>

      <!-- <pre>{{ contacts$ | async | json }}</pre> -->
      <ul>
        <mat-list>
          <ng-container *ngIf=" contactsFacade.allContacts$ | async as records">
            <ng-container *ngFor="let record of records; let i=index">
              <contacts-record (click)="onContactSelected(i)" [contact]="record" [class.selected]="selectedIndex === i">
              </contacts-record>
            </ng-container>
          </ng-container>
        </mat-list>
      </ul>

    </mat-sidenav>
    <mat-sidenav-content [class.col-sm-8]="isViewingListing" class="col-12">
      <ng-container *ngIf="!isViewingContact">
        <header class="my-5 mat-typography text-center">
          <h1>Select a Contact</h1>
          <h2>Why haven't you selected someone yet?</h2>
        </header>
      </ng-container>

      <router-outlet (activate)="onActivate($event)" (deactivate)="onDeactivate($event)"></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>